#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Estilizando, testando e buildando seu cÃ³digo antes de commitar . . .\n'

# Check Prettier standards
npm run check-format ||
(
    echo '\nğŸ¤¢ğŸ¤® Parece haver um problema de estilo ğŸ¤¢ğŸ¤®
    Checagem do Prettier falhou... Rode um npm run format, adicione as alteraÃ§Ãµes e tente novamente.\n';
    false;
)

# Check ESLint Standards
npm run check-lint ||
(
    echo '\nğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ Daqui nÃ£o passa! ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ 
    Checagem do ESLint falhou... FaÃ§a as alteraÃ§Ãµes listadas acima e tente novamente.\n'
    false; 
)

# Check tsconfig standards
npm run check-types ||
(
    echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Checagem de Tipos Falhou. ğŸ¤¡ğŸ˜‚âŒğŸ¤¡
    Parece que tivemos um problema com TypeScript, faÃ§a as alteraÃ§Ãµes citadas acima.'
    false;
)

# If everything passes... Now we can commit
echo '\nğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”... Tudo bem... Parece que o cÃ³digo tÃ¡ legal... Vamos tentar buildar. ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”\n'

npm run build ||
(
    echo '\nâŒğŸ‘·ğŸ”¨âŒ Seu build falhou!!!! âŒğŸ‘·ğŸ”¨âŒ
    Falha ao buildar o React: entenda o que aconteceu vendo os erros acima.\n'
    false;
)

# If everything passes... Now we can commit
echo '\n\nâœ…âœ…âœ…âœ… VocÃª ganhou dessa vez, commitando agora. âœ…âœ…âœ…âœ…\n'
